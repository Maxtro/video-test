(this["webpackJsonpvideo-test"]=this["webpackJsonpvideo-test"]||[]).push([[0],{20:function(e,t,n){e.exports={element:"GreenElement_element__1SEbt"}},21:function(e,t,n){e.exports={video_pos:"Video_video_pos__1Go6z"}},26:function(e,t,n){e.exports=n(57)},31:function(e,t,n){},32:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(5),i=n.n(a),o=(n(31),n(32),n(20)),u=n.n(o),l=function(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current.style.top="".concat(e.greenElementStyle.top,"px"),t.current.style.left="".concat(e.greenElementStyle.left,"px"),t.current.style.height="".concat(e.greenElementStyle.height,"px"),t.current.style.width="".concat(e.greenElementStyle.width,"px")}),[e]),c.a.createElement("div",{className:u.a.element,ref:function(e){return t.current=e}})},s=n(21),m=n.n(s),d=function(e){var t=Object(r.useRef)(null);Object(r.useEffect)((function(){t.current.currentTime=e.currentTimeTo/1e3}),[e.currentTimeTo]);var n=function(){var n=1e3*t.current.currentTime;e.getCurrentTime(n)};return c.a.createElement("div",{className:m.a.video_pos},c.a.createElement(l,{greenElementStyle:e.greenElementStyle}),c.a.createElement("video",{ref:function(e){return t.current=e},width:"1300px",height:"auto",onClick:function(){!1===e.isPlay?(t.current.play(),t.current.addEventListener("timeupdate",n,!1),e.videoPlayStop(!0)):(t.current.pause(),t.current.removeEventListener("timeupdate",n,!1),e.videoPlayStop(!1))}},c.a.createElement("source",{src:e.videoURL,type:"video/mp4"})),c.a.createElement("p",null," ",Math.floor(e.currentTime/1e3)," "))},f=n(8),E=n.n(f),T=n(22),y=n(4),p=n(23),v=n.n(p),_=function(){return v.a.get("https://www.mocky.io/v2/5e60c5f53300005fcc97bbdd")},g={isPlay:!1,videoURL:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",analysticsDate:[],currentTime:0,currentTimeTo:0,greenElementStyle:{left:0,top:-100,width:0,height:0},currentIndex:-1},S=function(e){return{type:"IS_VIDEO_PLAY",isPlayNew:e}},b=function(e){return{type:"SET_ANALYSTICS_DATA",NewAnalysticsData:e}},h=function(e){return{type:"SET_CURRENT_TIME",NewCurrentTime:e}},w=function(e,t){return{type:"SET_CURRENT_TIME_TO",payload:{NewCurrentTimeTo:e,newCurrentIndex:t}}},R=function(e){return{type:"SET_GREEN_ELEMENT_STYLE",NewElement:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_VIDEO_PLAY":return Object(y.a)({},e,{isPlay:t.isPlayNew});case"SET_ANALYSTICS_DATA":return Object(y.a)({},e,{analysticsDate:t.NewAnalysticsData});case"SET_CURRENT_TIME":return Object(y.a)({},e,{currentTime:t.NewCurrentTime});case"SET_GREEN_ELEMENT_STYLE":return Object(y.a)({},e,{greenElementStyle:t.NewElement});case"SET_CURRENT_TIME_TO":return Object(y.a)({},e,{currentTimeTo:t.payload.NewCurrentTimeTo,currentIndex:t.payload.newCurrentIndex});default:return e}},k=n(2),C=function(e){return e.Reduser.isPlay},x=function(e){return e.Reduser.videoURL},O=function(e){return e.Reduser.analysticsDate},D=function(e){return e.Reduser.currentTime},I=function(e){return e.Reduser.greenElementStyle},A=function(e){return e.Reduser.currentTimeTo},j=function(e){return e.Reduser.currentIndex},L=Object(k.b)((function(e){return{isPlay:C(e),videoURL:x(e),currentTime:D(e),greenElementStyle:I(e),currentTimeTo:A(e)}}),{videoPlayStop:function(e){return function(t){t(S(e))}},getCurrentTime:function(e){return function(t,n){for(var r=n().Reduser.analysticsDate,c=0;c<r.length;c++)e>=r[c].timestamp&&e<=r[c].timestamp+r[c].duration&&t(R(r[c].zone));t(h(e))}}})((function(e){return c.a.createElement(d,{isPlay:e.isPlay,videoURL:e.videoURL,currentTime:e.currentTime,currentTimeTo:e.currentTimeTo,greenElementStyle:e.greenElementStyle,videoPlayStop:e.videoPlayStop,getCurrentTime:e.getCurrentTime})})),P=n(6),M=n.n(P),U=function(e){for(var t=[],n=0;n<e.analysticsDate.length;n++){var r=new Date(e.analysticsDate[n].timestamp),a=r.getMinutes(),i=r.getSeconds(),o=r.getMilliseconds(),u={time:"".concat(a,":").concat(i,":").concat(o),timestamp:e.analysticsDate[n].timestamp,id:e.analysticsDate[n].id};t.push(u)}return c.a.createElement("div",{className:M.a.block},t.sort((function(e,t){return e.time>t.time?1:t.time>e.time?-1:0})).map((function(t,n){return c.a.createElement("div",{key:n,className:n===e.currentIndex?M.a.block_line_selected:M.a.block_line,onClick:function(){!function(t,n){e.getCurrentTimeTo(t,n)}(t.timestamp,n)}},n+1," - ",t.time)})))},Y=c.a.memo((function(e){return Object(r.useEffect)((function(){e.getAnalysticsData()}),[e]),c.a.createElement(U,{analysticsDate:e.analysticsDate,currentIndex:e.currentIndex,getCurrentTimeTo:e.getCurrentTimeTo})})),B=Object(k.b)((function(e){return{analysticsDate:O(e),currentIndex:j(e)}}),{getAnalysticsData:function(){return function(){var e=Object(T.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:n=e.sent,t(b(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getCurrentTimeTo:function(e,t){return function(n){n(w(e,t))}}})(Y),G=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("div",null,c.a.createElement(L,null)),c.a.createElement("div",{className:"block"},c.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(3),V=n(25),z=Object(J.c)({Reduser:N}),W=Object(J.d)(z,Object(J.a)(V.a));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k.a,{store:W},c.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports={block:"Analystics_block__2rm2m",block_line:"Analystics_block_line__2ZcOT",block_line_selected:"Analystics_block_line_selected__38aJu"}}},[[26,1,2]]]);
//# sourceMappingURL=main.9e0603b8.chunk.js.map